{"version":3,"sources":["../src/index.js"],"names":["CleanPlugin","constructor","options","ignoreFiles","explicitlyDelFiles","apply","compiler","hooks","emit","tap","compilation","outputPath","outputOptions","path"],"mappings":";;;;;;;AAAA;;AAEA,MAAMA,WAAN,CAAkB;AACjBC,EAAAA,WAAW,CAACC,OAAD,EAAU;AACpB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKC,WAAL,GAAmBD,OAAO,CAACC,WAAR,IAAuB,EAA1C;AACA,SAAKC,kBAAL,GAA0BF,OAAO,CAACE,kBAAR,IAA8B,IAAxD;AACA;;AAEDC,EAAAA,KAAK,CAACC,QAAD,EAAW;AACfA,IAAAA,QAAQ,CAACC,KAAT,CAAeC,IAAf,CAAoBC,GAApB,CAAwB,yBAAxB,EAAmDC,WAAW,IAAI;AACjE,YAAMC,UAAU,GAAGD,WAAW,CAACE,aAAZ,CAA0BC,IAA7C;AACA,4BAAUF,UAAV,EAAsB,KAAKR,WAA3B,EAAwC,KAAKC,kBAA7C;AACA,KAHD;AAIA;;AAZgB;;eAeHJ,W","sourcesContent":["import {rmdirSync} from './utils'\n\nclass CleanPlugin {\n\tconstructor(options) {\n\t\tthis.options = options\n\t\tthis.ignoreFiles = options.ignoreFiles || []\n\t\tthis.explicitlyDelFiles = options.explicitlyDelFiles || null\n\t}\n\n\tapply(compiler) {\n\t\tcompiler.hooks.emit.tap('Clean prev output files', compilation => {\n\t\t\tconst outputPath = compilation.outputOptions.path\n\t\t\trmdirSync(outputPath, this.ignoreFiles, this.explicitlyDelFiles)\n\t\t})\n\t}\n}\n\nexport default CleanPlugin\n"],"file":"index.js"}